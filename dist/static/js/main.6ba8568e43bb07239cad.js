(()=>{"use strict";var e,t,s,a={1185:(e,t,s)=>{var a=s(4848),r=s(6540),l=s(5338),n=s(8445),o=s(4945),i=s(5899),d=s(4164),c=s(856);function m(...e){return(0,c.QP)((0,d.$)(e))}const x=({currentView:e,onViewChange:t})=>{const s=[{id:"home",label:"Home",icon:n.A},{id:"productivity",label:"Productivity",icon:o.A},{id:"personal",label:"Personal",icon:i.A}];return(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 bg-black/20 backdrop-blur-xl border-b border-white/10",children:(0,a.jsx)("div",{className:"flex items-center justify-center py-4 px-6",children:(0,a.jsx)("div",{className:"flex items-center space-x-4 bg-black/30 backdrop-blur-md rounded-full p-2 border border-white/10",children:s.map((s=>{const r=s.icon,l=e===s.id;return(0,a.jsxs)("button",{onClick:()=>t(s.id),className:m("relative flex items-center space-x-2 px-6 py-3 rounded-full text-sm font-medium transition-all duration-300 overflow-hidden group",l?"text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"),children:[l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500 via-blue-500 to-cyan-500 p-[1px]",children:(0,a.jsx)("div",{className:"h-full w-full rounded-full bg-black/50 backdrop-blur-sm"})}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500/20 via-blue-500/20 to-cyan-500/20 blur-sm"})]}),(0,a.jsx)(r,{className:m("h-4 w-4 transition-transform duration-200 relative z-10",l?"scale-110":"group-hover:scale-105")}),(0,a.jsx)("span",{className:"relative z-10 whitespace-nowrap",children:s.label})]},s.id)}))})})})},u=r.forwardRef((({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t})));u.displayName="Card";const h=r.forwardRef((({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:m("flex flex-col space-y-1.5 p-6",e),...t})));h.displayName="CardHeader";const g=r.forwardRef((({className:e,...t},s)=>(0,a.jsx)("h3",{ref:s,className:m("text-2xl font-semibold leading-none tracking-tight",e),...t})));g.displayName="CardTitle",r.forwardRef((({className:e,...t},s)=>(0,a.jsx)("p",{ref:s,className:m("text-sm text-muted-foreground",e),...t}))).displayName="CardDescription";const b=r.forwardRef((({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:m("p-6 pt-0",e),...t})));b.displayName="CardContent",r.forwardRef((({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:m("flex items-center p-6 pt-0",e),...t}))).displayName="CardFooter";var f=s(3362),p=s(2732);const w=(0,p.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=r.forwardRef((({className:e,variant:t,size:s,asChild:r=!1,...l},n)=>{const o=r?f.DX:"button";return(0,a.jsx)(o,{className:m(w({variant:t,size:s,className:e})),ref:n,...l})}));j.displayName="Button";var v=s(697),y=s(9360),N=s(322);const S={async save(e,t){try{"undefined"!=typeof chrome&&chrome.storage?await chrome.storage.local.set({[e]:t}):localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error("Storage save error:",e)}},async load(e){try{if("undefined"!=typeof chrome&&chrome.storage)return(await chrome.storage.local.get(e))[e];{const t=localStorage.getItem(e);return t?JSON.parse(t):null}}catch(e){return console.error("Storage load error:",e),null}},async remove(e){try{"undefined"!=typeof chrome&&chrome.storage?await chrome.storage.local.remove(e):localStorage.removeItem(e)}catch(e){console.error("Storage remove error:",e)}},async clear(){try{"undefined"!=typeof chrome&&chrome.storage?await chrome.storage.local.clear():localStorage.clear()}catch(e){console.error("Storage clear error:",e)}}};function k(){const[e,t]=(0,r.useState)(0),[s,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)({dailyCount:0,totalDays:0,successfulDays:0,failedDays:0,currentStreak:0,lastDate:""});(0,r.useEffect)((()=>{i()}),[]),(0,r.useEffect)((()=>{const e=()=>{const e=(new Date).toDateString();n.lastDate&&n.lastDate!==e&&c()};e();const t=setInterval(e,6e4);return()=>clearInterval(t)}),[n.lastDate]);const i=async()=>{try{const e=await S.load("snus-data");e&&(o(e),t(e.dailyCount))}catch(e){console.error("Error loading snus data:",e)}},d=async e=>{try{await S.save("snus-data",e),o(e)}catch(e){console.error("Error saving snus data:",e)}},c=async()=>{const s=(new Date).toDateString(),a=e<=5,r={...n,dailyCount:0,totalDays:n.totalDays+1,successfulDays:a?n.successfulDays+1:n.successfulDays,failedDays:a?n.failedDays:n.failedDays+1,currentStreak:a?n.currentStreak+1:0,lastDate:s};await d(r),t(0),l(!1)},m=()=>0===e?"text-green-400":e<=5?"text-yellow-400":"text-red-400",x=()=>Math.min(e/5*100,100),h=2*Math.PI*35,g=h,f=h-x()/100*h;return(0,a.jsx)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,a.jsxs)(b,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white mb-1",children:"Snus Tracker"}),(0,a.jsx)("p",{className:`text-sm ${m()}`,children:0===e?"Clean day! 🌟":e<=5?5-e+" left today":"Over limit! 😱"})]}),(0,a.jsxs)("div",{className:"relative w-16 h-16",children:[(0,a.jsxs)("svg",{className:"w-16 h-16 transform -rotate-90",viewBox:"0 0 80 80",children:[(0,a.jsx)("circle",{cx:"40",cy:"40",r:35,stroke:"currentColor",strokeWidth:"6",fill:"transparent",className:"text-gray-700"}),(0,a.jsx)("circle",{cx:"40",cy:"40",r:35,stroke:"currentColor",strokeWidth:"6",fill:"transparent",strokeDasharray:g,strokeDashoffset:f,className:"transition-all duration-300 ease-in-out "+(e>5?"text-red-400":"text-yellow-400"),strokeLinecap:"round"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("span",{className:`text-lg font-bold ${m()}`,children:e})})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 mb-4",children:[(0,a.jsxs)(j,{onClick:async()=>{const s=e+1,a=(new Date).toDateString(),r=(new Date).toISOString().split("T")[0];t(s),l(s>0);const o={...n,dailyCount:s,lastDate:a};await d(o);const i=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c=[...await S.load(`snus-timestamps-${a}`)||[],i];await S.save(`snus-timestamps-${a}`,c);const m=await S.load("daily-logs")||{},x=m[r]||{date:r,habitsCompleted:0,focusSessions:0,snusCount:0};m[r]={...x,snusCount:s},await S.save("daily-logs",m);const u=await S.load(`day-data-${a}`)||{},h={...u,date:a,snusCount:s,snusStatus:0===s?"success":s<=5?"pending":"failed",habits:u.habits||[],focusSessions:u.focusSessions||0,allHabitsCompleted:u.allHabitsCompleted||!1};await S.save(`day-data-${a}`,h),window.dispatchEvent(new CustomEvent("dailyLogsUpdated"))},className:"flex-1 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-400 hover:text-red-300 rounded-2xl py-3",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Take Snus"]}),(0,a.jsx)(j,{onClick:async()=>{if(e<=0)return;const s=e-1,a=(new Date).toDateString(),r=(new Date).toISOString().split("T")[0];t(s),l(s>0);const o={...n,dailyCount:s};await d(o);const i=await S.load("daily-logs")||{},c=i[r]||{date:r,habitsCompleted:0,focusSessions:0,snusCount:0};i[r]={...c,snusCount:s},await S.save("daily-logs",i);const m=await S.load(`day-data-${a}`)||{},x={...m,date:a,snusCount:s,snusStatus:0===s?"success":s<=5?"pending":"failed",habits:m.habits||[],focusSessions:m.focusSessions||0,allHabitsCompleted:m.allHabitsCompleted||!1};await S.save(`day-data-${a}`,x),window.dispatchEvent(new CustomEvent("dailyLogsUpdated"))},variant:"outline",className:"bg-gray-800/60 hover:bg-gray-700/60 border-gray-600 text-gray-300 hover:text-white rounded-2xl py-3 disabled:opacity-50",disabled:e<=0,children:(0,a.jsx)("span",{className:"text-lg font-bold",children:"−"})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-2",children:[(0,a.jsx)("span",{children:"Daily Progress"}),(0,a.jsxs)("span",{children:[e,"/",5]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(e>5?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-yellow-500 to-orange-500"),style:{width:`${Math.min(x(),100)}%`}})})]}),s&&(0,a.jsx)("div",{className:"p-3 border rounded-2xl backdrop-blur-sm "+(e<=5?"bg-blue-900/30 border-blue-500/50":"bg-red-900/30 border-red-500/50"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 "+(e<=5?"text-blue-400":"text-red-400"),children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(e=>{const t=["Clean start — stay sharp and own the day 🧠","Alright, first one down — stay mindful ⚠️","Second hit logged. Keep your head in the game 📒","Three deep. You're still in control — barely 🧩","Four snus. Yellow zone now. Eyes on the mission 👁️","Limit reached. Time to lock in 🔒","You've crossed the line today. Regain control 🧠⚔️","This is no longer 'just one more'. Recalibrate. ⛔","You’re losing the mental edge. Turn it around. 🧭","Momentum killer. You’re stronger than this 💢","Double digits. You’re at a crossroads 🔻","You're not in control — the habit is. Flip the script 🔄","That's your future rent right there 💸","13 in. What story are you writing today? 📉","Your lungs and gums are waving the white flag 🫁","15 hits. Your willpower didn’t sign up for this 🧱","You're spiraling. Is this how you want to show up? 🎭","Seventeen. Let’s not make this your new normal 🛑","You're not escaping. You’re looping 🌀","This isn’t you. This is addiction running macros 🤖","20 logged. Let this be your last rock bottom for the year 🧨"];return e>=20?t[20]:t[e]||t[6]})(e)})]})}),0===e&&(0,a.jsx)("div",{className:"p-3 bg-green-900/30 border border-green-500/50 rounded-2xl backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-400",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Great job! Keep it up! 🌟"})]})})]})})}var C=s(3378),D=s(6858),A=s(7504),$=s(2640),T=s(2307),E=s(8931);function L(){const e=[{name:"Trale Extension",url:"https://github.com/BredeYabo/trale-extension/tree/dev",color:"bg-gradient-to-br from-purple-500 to-indigo-600",icon:C.A},{name:"Trale Main",url:"https://github.com/BredeYabo/trale-full",color:"bg-gradient-to-br from-purple-600 to-pink-600",icon:C.A},{name:"Daily.dev",url:"https://app.daily.dev/",color:"bg-gradient-to-br from-blue-500 to-cyan-500",icon:D.A},{name:"ChatGPT",url:"https://chatgpt.com/",color:"bg-gradient-to-br from-green-500 to-emerald-600",icon:A.A},{name:"Claude AI",url:"https://claude.ai/new",color:"bg-gradient-to-br from-orange-500 to-red-500",icon:$.A},{name:"Calendar",url:"https://calendar.google.com/calendar/u/0/r/week?pli=1",color:"bg-gradient-to-br from-blue-600 to-indigo-700",icon:T.A}];return(0,a.jsx)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,a.jsxs)(b,{className:"p-8",children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold text-white mb-6 text-center",children:"Quick Access"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-6",children:e.map((e=>{const t=e.icon;return(0,a.jsx)("div",{className:"group cursor-pointer transition-all duration-200 hover:scale-105",onClick:()=>window.open(e.url,"_blank"),children:(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 text-center hover:bg-white/10 transition-all duration-200 hover:shadow-xl",children:[(0,a.jsx)("div",{className:`w-16 h-16 ${e.color} rounded-2xl mx-auto mb-4 flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg`,children:(0,a.jsx)(t,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("p",{className:"text-sm font-medium text-white/90 group-hover:text-white transition-colors",children:e.name}),(0,a.jsx)(E.A,{className:"h-3 w-3 text-white/50 mx-auto mt-2 group-hover:text-white/70 transition-colors"})]})},e.name)}))})]})})}const M=()=>{const[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=()=>{const e=new Date;t(e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),l(e.toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"}))};e();const s=setInterval(e,1e3);return()=>clearInterval(s)}),[]),(0,a.jsx)("div",{className:"min-h-screen pt-6 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"container mx-auto px-8 max-w-7xl",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8 mb-12",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-8xl font-light text-white mb-2",children:e}),(0,a.jsx)("div",{className:"text-xl text-white/80",children:s})]})}),(0,a.jsx)(k,{})]}),(0,a.jsx)(L,{})]})})};var P=s(9216),O=s(8697),H=s(4539),R=s(665),I=s(2957),F=s(5226),W=s(8309);const Y={Dumbbell:P.A,X:O.A,Sun:H.A,BookOpen:R.A,Utensils:I.A,Droplets:F.A};function z(){const[e,t]=(0,r.useState)([{id:"workout1",name:"First Workout",completed:!0,iconName:"Dumbbell"},{id:"alcohol",name:"No Alcohol",completed:!1,iconName:"X"},{id:"workout2",name:"Second Workout",completed:!0,iconName:"Sun"},{id:"reading",name:"Read 10 pages",completed:!0,iconName:"BookOpen"},{id:"diet",name:"Follow a healthy diet",completed:!1,iconName:"Utensils"},{id:"water",name:"Drink water",completed:!1,iconName:"Droplets"}]),[s,l]=(0,r.useState)(0),[n,o]=(0,r.useState)(null);(0,r.useEffect)((()=>{i()}),[]),(0,r.useEffect)((()=>{const e=()=>{const e=(new Date).toDateString();localStorage.getItem("habit-date")!==e&&(d(),localStorage.setItem("habit-date",e))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)}),[]);const i=async()=>{try{const e=await S.load("habits"),s=await S.load("habit-streak"),a=await S.load("last-completed-date");e&&t(e),s&&l(s),a&&o(a)}catch(e){console.error("Error loading habits:",e)}},d=async()=>{(new Date).toDateString();const s=new Date(Date.now()-864e5).toDateString(),a=e.filter((e=>e.completed));if(a.length>0){const t={date:s,habits:a.map((e=>e.name)),focusSessions:await S.load("focus-sessions")||0,snusStatus:"pending",allHabitsCompleted:a.length===e.length};await S.save(`day-data-${s}`,t)}const r=e.map((e=>({...e,completed:!1})));t(r),await S.save("habits",r)},c=e.filter((e=>e.completed)).length,m=c/e.length*100,x=2*Math.PI*45,h=x,g=x-m/100*x;return(0,a.jsx)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,a.jsxs)(b,{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold text-white mb-2",children:"Tasks"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Great start to the day"})]}),(0,a.jsxs)("div",{className:"relative w-20 h-20",children:[(0,a.jsxs)("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{cx:"50",cy:"50",r:45,stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-700"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:45,stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:h,strokeDashoffset:g,className:"text-white transition-all duration-300 ease-in-out",strokeLinecap:"round"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white text-xl font-semibold",children:[c,"/",e.length]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[e.map((r=>{const i=Y[r.iconName]||W.A;return(0,a.jsxs)("button",{onClick:()=>(async a=>{const r=e.map((e=>e.id===a?{...e,completed:!e.completed}:e));t(r),await S.save("habits",r);const i=(new Date).toISOString().split("T")[0],d=r.filter((e=>e.completed)),c=d.length===r.length,m=await S.load("focus-sessions")||0,x=await S.load("snus-data")||{dailyCount:0},u=await S.load("daily-logs")||{};u[i]={date:i,habitsCompleted:d.length,focusSessions:m,snusCount:x.dailyCount},await S.save("daily-logs",u);const h=(new Date).toDateString(),g={date:h,habits:d.map((e=>e.name)),focusSessions:m,snusStatus:"pending",snusCount:x.dailyCount,allHabitsCompleted:c};await S.save(`day-data-${h}`,g);const b=r.map((e=>({...e,completedAt:e.completed?(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):void 0})));await S.save(`habit-details-${h}`,b),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),c&&await(async()=>{const e=(new Date).toDateString(),t=new Date(Date.now()-864e5).toDateString();if(n===t||null===n){const t=s+1;l(t),o(e),await S.save("habit-streak",t),await S.save("last-completed-date",e)}else n!==e&&(l(1),o(e),await S.save("habit-streak",1),await S.save("last-completed-date",e))})()})(r.id),className:"relative flex items-center space-x-4 px-6 py-4 rounded-full transition-all duration-200 hover:scale-105 "+(r.completed?"bg-white text-black shadow-lg":"bg-gray-800/60 text-white/70 hover:bg-gray-700/60"),children:[(0,a.jsx)("div",{className:"p-2 rounded-full "+(r.completed?"bg-black":"bg-white/20"),children:(0,a.jsx)(i,{className:"h-5 w-5 "+(r.completed?"text-white":"text-white/70")})}),(0,a.jsx)("span",{className:"text-sm font-medium flex-1 text-left "+(r.completed?"text-black":"text-white/90"),children:r.name}),r.completed&&(0,a.jsx)(N.A,{className:"h-6 w-6 text-black ml-auto"})]},r.id)})),c===e.length&&(0,a.jsx)("div",{className:"col-span-2 flex items-center justify-center px-6 py-4 rounded-full bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-green-400/30 backdrop-blur-sm",children:(0,a.jsx)("span",{className:"text-green-400 text-sm font-medium",children:"🎉 All tasks completed! You're crushing it today!"})})]})]})})}var U=s(7235),X=s(5731),B=s(7611),_=s(8834);function G(){const[e,t]=(0,r.useState)(1500),[s,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[i,d]=(0,r.useState)(0);(0,r.useEffect)((()=>{let a=null;return s&&e>0?a=setInterval((()=>{t((e=>e-1))}),1e3):0===e&&c(),()=>{a&&clearInterval(a)}}),[s,e]),(0,r.useEffect)((()=>{(async()=>{try{const e=await S.load("focus-sessions");e&&d(e)}catch(e){console.error("Error loading focus sessions:",e)}})()}),[]);const c=async()=>{if(l(!1),n)o(!1),t(1500);else{const e=i+1;d(e),await S.save("focus-sessions",e);const s=(new Date).toDateString(),a=await S.load(`day-data-${s}`)||{},r={...a,date:s,focusSessions:e,habits:a.habits||[],snusStatus:a.snusStatus||"pending",snusCount:a.snusCount||0,allHabitsCompleted:a.allHabitsCompleted||!1};await S.save(`day-data-${s}`,r);const l=[...await S.load(`focus-details-${s}`)||[],{time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),duration:25}];await S.save(`focus-details-${s}`,l),o(!0),t(300)}},m=2*Math.PI*45,x=m,h=m-(()=>{const t=n?300:1500;return(t-e)/t*100})()/100*m;return(0,a.jsx)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,a.jsxs)(b,{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white mb-1",children:"Focus Timer"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:n?"Break Time 🧘":"Deep Work Session 🎯"})]}),(0,a.jsxs)("div",{className:"relative w-20 h-20",children:[(0,a.jsxs)("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{cx:"50",cy:"50",r:45,stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-700"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:45,stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:x,strokeDashoffset:h,className:"transition-all duration-300 ease-in-out "+(n?"text-green-400":"text-blue-400"),strokeLinecap:"round"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(U.A,{className:"h-6 w-6 "+(n?"text-green-400":"text-blue-400")})})]})]}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"text-5xl font-light mb-2 "+(n?"text-green-400":"text-blue-400"),children:(e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})(e)}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:n?"Time for a break!":"Stay focused"})]}),(0,a.jsxs)("div",{className:"flex space-x-3 mb-6",children:[s?(0,a.jsxs)(j,{onClick:()=>{l(!1)},className:"flex-1 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-500/30 text-orange-400 rounded-2xl py-3",children:[(0,a.jsx)(B.A,{className:"h-4 w-4 mr-2"}),"Pause"]}):(0,a.jsxs)(j,{onClick:()=>{l(!0)},className:`flex-1 ${n?"bg-green-500/20 hover:bg-green-500/30 border border-green-500/30 text-green-400":"bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 text-blue-400"} rounded-2xl py-3`,children:[(0,a.jsx)(X.A,{className:"h-4 w-4 mr-2"}),"Start"]}),(0,a.jsx)(j,{onClick:()=>{l(!1),o(!1),t(1500)},variant:"outline",className:"bg-gray-800/60 hover:bg-gray-700/60 border-gray-600 text-gray-300 hover:text-white rounded-2xl py-3",children:(0,a.jsx)(_.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:i}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Focus Sessions Today"}),i>0&&(0,a.jsxs)("div",{className:"text-xs text-green-400 mt-1",children:["+",50*i," XP earned! 🚀"]})]})]})})}var V=s(6316),J=s(7870),K=s(3422);const q=K.bL,Q=(K.l9,K.ZL),Z=(K.bm,r.forwardRef((({className:e,...t},s)=>(0,a.jsx)(K.hJ,{ref:s,className:m("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}))));Z.displayName=K.hJ.displayName;const ee=r.forwardRef((({className:e,children:t,...s},r)=>(0,a.jsxs)(Q,{children:[(0,a.jsx)(Z,{}),(0,a.jsxs)(K.UC,{ref:r,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-3xl",e),...s,children:[t,(0,a.jsxs)(K.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(O.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})));ee.displayName=K.UC.displayName;const te=({className:e,...t})=>(0,a.jsx)("div",{className:m("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});te.displayName="DialogHeader";const se=r.forwardRef((({className:e,...t},s)=>(0,a.jsx)(K.hE,{ref:s,className:m("text-lg font-semibold leading-none tracking-tight",e),...t})));se.displayName=K.hE.displayName,r.forwardRef((({className:e,...t},s)=>(0,a.jsx)(K.VY,{ref:s,className:m("text-sm text-muted-foreground",e),...t}))).displayName=K.VY.displayName;const ae=(0,p.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function re({className:e,variant:t,...s}){return(0,a.jsx)("div",{className:m(ae({variant:t}),e),...s})}var le=s(7792);function ne({isOpen:e,onClose:t,dayData:s}){const[l,n]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),[c,m]=(0,r.useState)([]);(0,r.useEffect)((()=>{s&&e&&x()}),[s,e]);const x=async()=>{if(s)try{const e=await S.load(`habit-details-${s.date}`)||[];n(e);const t=await S.load(`snus-timestamps-${s.date}`)||[];d(t);const a=await S.load(`focus-details-${s.date}`)||[];m(a)}catch(e){console.error("Error loading day details:",e)}},u=e=>{const t=Math.floor(e/60),s=e%60;return t>0?`${t}h ${s}m`:`${s}m`};if(!s)return null;const h=s?"success"===s.snusStatus?{text:"Clean Day",color:"bg-green-500/20 text-green-400 border-green-500/30",emoji:"🌟"}:"failed"===s.snusStatus?{text:"Over Limit",color:"bg-red-500/20 text-red-400 border-red-500/30",emoji:"😔"}:{text:"Within Limit",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",emoji:"⚠️"}:{text:"",color:"",emoji:""},g=c.reduce(((e,t)=>e+t.duration),0);return(0,a.jsx)(q,{open:e,onOpenChange:t,children:(0,a.jsxs)(ee,{className:"max-w-2xl bg-black/90 backdrop-blur-xl border border-white/20 text-white rounded-3xl",children:[(0,a.jsx)(te,{children:(0,a.jsxs)(se,{className:"text-2xl font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)(T.A,{className:"h-6 w-6 text-blue-400"}),(0,a.jsx)("span",{children:(e=>{const t=new Date(e),s=new Date;return t.toDateString()===s.toDateString()?"Today":t.toDateString()===new Date(s.getTime()-864e5).toDateString()?"Yesterday":t.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})})(s.date)}),s.allHabitsCompleted&&(0,a.jsx)("span",{className:"text-green-400",children:"✨"})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,a.jsx)(le.A,{className:"h-6 w-6 text-blue-400 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:s.habits.length}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Habits Completed"})]}),(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,a.jsx)(U.A,{className:"h-6 w-6 text-green-400 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:s.focusSessions}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Focus Sessions"})]}),(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,a.jsx)(J.A,{className:"h-6 w-6 text-orange-400 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:s.snusCount}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Snus Count"})]})]}),(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"🚭"}),"Snus Status"]}),(0,a.jsxs)("div",{className:`inline-flex items-center px-3 py-2 rounded-full border text-sm font-medium ${h.color}`,children:[(0,a.jsx)("span",{className:"mr-2",children:h.emoji}),h.text,s.snusCount>0&&(0,a.jsxs)("span",{className:"ml-2",children:["(",s.snusCount," taken)"]})]}),o.length>0&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Timeline:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(((e,t)=>(0,a.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded",children:e},t)))})]})]}),s.habits.length>0&&(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,a.jsx)(N.A,{className:"h-5 w-5 text-green-400 mr-2"}),"Completed Habits",s.allHabitsCompleted&&(0,a.jsx)(re,{className:"ml-2 bg-green-500/20 text-green-400 border-green-500/30",children:"Perfect Day!"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:s.habits.map(((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-green-500/10 border border-green-500/30 rounded-lg p-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-white",children:e})]},t)))})]}),s.focusSessions>0&&(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,a.jsx)(U.A,{className:"h-5 w-5 text-blue-400 mr-2"}),"Focus Sessions",(0,a.jsx)(re,{className:"ml-2 bg-blue-500/20 text-blue-400 border-blue-500/30",children:g>0?u(g):`${s.focusSessions} sessions`})]}),c.length>0?(0,a.jsx)("div",{className:"space-y-2",children:c.map(((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-blue-500/10 border border-blue-500/30 rounded-lg p-2",children:[(0,a.jsxs)("span",{className:"text-sm text-white",children:["Session ",t+1]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-blue-400",children:[(0,a.jsx)("span",{children:e.time}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:u(e.duration)})]})]},t)))}):(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[s.focusSessions," focus session",s.focusSessions>1?"s":""," completed"]})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-green-500/10 border border-purple-500/20 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 text-purple-400"}),(0,a.jsx)("span",{className:"font-medium text-white",children:"Day Assessment"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-300",children:s.allHabitsCompleted&&"success"===s.snusStatus?"🏆 Perfect Day!":s.habits.length>=3?"✅ Good Day":"📈 Room for Improvement"})]})})]})]})})}function oe(){const[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(0),[n,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{m();const e=setInterval(m,3e4);return()=>clearInterval(e)}),[]);const c=async()=>{const e=(new Date).toDateString(),t=(new Date).toISOString().split("T")[0],s=await S.load("habits")||[],a=s.filter((e=>e.completed)),r=s.length>0&&a.length===s.length,l=await S.load("focus-sessions")||0,n=await S.load("snus-data")||{dailyCount:0,totalDays:0,successfulDays:0,failedDays:0,currentStreak:0,lastDate:""};let o="pending";if(n.lastDate===e)o=0===n.dailyCount?"success":n.dailyCount<=5?"pending":"failed";else{const t=await S.load(`day-data-${e}`);t&&(o=t.snusStatus)}const i=await S.load("daily-logs")||{};i[t]={date:t,habitsCompleted:a.length,focusSessions:l,snusCount:n.dailyCount},await S.save("daily-logs",i);const d={date:e,habits:a.map((e=>e.name)),focusSessions:l,snusStatus:o,snusCount:n.dailyCount,allHabitsCompleted:r};return await S.save(`day-data-${e}`,d),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),d},m=async()=>{try{const e=[],s=new Date;await c();for(let t=6;t>=0;t--){const a=new Date(s);a.setDate(s.getDate()-t);const r=a.toDateString();let l=await S.load(`day-data-${r}`);l||(l=0===t?await c():{date:r,habits:[],focusSessions:0,snusStatus:"pending",snusCount:0,allHabitsCompleted:!1}),e.push(l)}t(e);let a=0;for(let t=e.length-1;t>=0;t--){const s=e[t];if(!(s.allHabitsCompleted||s.habits.length>=3)||!("success"===s.snusStatus||"pending"===s.snusStatus&&s.habits.includes("No Snus")))break;a++}l(a)}catch(e){console.error("Error loading weekly data:",e)}};(0,r.useEffect)((()=>{const e=setInterval((()=>{c(),setTimeout(m,1e3)}),5e3);return()=>clearInterval(e)}),[]);const x=e=>{const t=new Date(e),s=new Date;return t.toDateString()===s.toDateString()?"Today":t.toDateString()===new Date(s.getTime()-864e5).toDateString()?"Yesterday":t.toLocaleDateString([],{weekday:"long"})};return(0,a.jsxs)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:[(0,a.jsxs)(b,{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white mb-1",children:"This Week"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Your progress overview"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-orange-400",children:s}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Day Streak"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-green-400",children:[(()=>{const t=e.filter((e=>{const t=e.allHabitsCompleted||e.habits.length>=3,s="success"===e.snusStatus||"pending"===e.snusStatus&&e.habits.includes("No Snus");return t&&s})).length;return e.length>0?Math.round(t/e.length*100):0})(),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Success Rate"})]})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.map(((e,t)=>(0,a.jsx)("div",{onClick:()=>(e=>{o(e),d(!0)})(e),className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 hover:bg-white/10 transition-all cursor-pointer hover:border-white/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full "+("success"===e.snusStatus?"bg-green-400":"failed"===e.snusStatus?"bg-red-400":"bg-yellow-400")}),(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full "+("success"===e.snusStatus?"bg-green-500/20 text-green-400":"failed"===e.snusStatus?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"),children:0===e.snusCount?"🚭":`${e.snusCount} snus`})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-white flex items-center",children:["🗓️ ",x(e.date),e.allHabitsCompleted&&(0,a.jsx)("span",{className:"ml-2 text-green-400",children:"✨"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:e.habits.length>0?e.allHabitsCompleted?(0,a.jsxs)("span",{className:"text-green-400 font-medium",children:["🎯 All ",e.habits.length," habits completed"]}):e.habits.length<=2?e.habits.map(((e,t)=>(0,a.jsxs)("span",{className:"mr-2",children:["✅ ",e]},t))):(0,a.jsxs)("span",{className:"text-blue-400",children:["✅ ",e.habits.length," habits completed"]}):(0,a.jsx)("span",{className:"text-gray-500",children:"No activities logged"})})]})]}),e.focusSessions>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-blue-400",children:[(0,a.jsx)(T.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"text-xs",children:[e.focusSessions," focus"]})]})]})},e.date)))}),(0,a.jsx)("div",{className:"mt-6 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 border border-blue-500/20 rounded-2xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(V.A,{className:"h-5 w-5 text-blue-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:"Week Progress"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4 text-orange-400"}),(0,a.jsx)("span",{className:"text-sm text-orange-400",children:s>0?"Keep the momentum!":"Start your streak!"})]})]})})]}),(0,a.jsx)(ne,{isOpen:i,onClose:()=>d(!1),dayData:n})]})}const ie=()=>(0,a.jsx)("div",{className:"min-h-screen pt-24 pb-8 mt-6 overflow-hidden",children:(0,a.jsx)("div",{className:"container mx-auto px-6 max-w-7xl",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(z,{}),(0,a.jsx)(G,{})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(oe,{})})]})})});var de=s(6846),ce=s(2492),me=s(1181),xe=s(3990),ue=s(8601),he=s(1161),ge=s(2299),be=s(1177),fe=s(5351),pe=s(9547),we=s(8004),je=s(443),ve=s(9231),ye=s(838),Ne=s(7927),Se=s(2834),ke=s(3547),Ce=s(5690),De=s(2496),Ae=s(6008),$e=s(5735),Te=s(9656),Ee=s(4721),Le=s(4222),Me=s(3094),Pe=s(356),Oe=s(9529),He=s(9750),Re=s(8224),Ie=s(5068),Fe=s(253),We=s(8951),Ye=s(4741);function ze({level:e,className:t="h-6 w-6"}){const s=(e=>e<=4?{tier:"Novice",color:"text-gray-300"}:e<=9?{tier:"Apprentice",color:"text-blue-400"}:e<=14?{tier:"Warrior",color:"text-green-400"}:e<=19?{tier:"Champion",color:"text-yellow-400"}:e<=29?{tier:"Master",color:"text-orange-400"}:e<=39?{tier:"Legend",color:"text-red-400"}:e<=49?{tier:"Mythic",color:"text-purple-400"}:e<=99?{tier:"Godlike",color:"text-pink-400"}:{tier:"Transcendent",color:"text-white"})(e);return(0,a.jsx)("div",{className:"flex items-center justify-center relative",children:(0,a.jsx)("div",{className:s.color,children:(e=>1===e?(0,a.jsx)(xe.A,{className:t}):2===e?(0,a.jsx)(ue.A,{className:t}):3===e?(0,a.jsx)(he.A,{className:t}):4===e?(0,a.jsx)(ge.A,{className:t}):5===e?(0,a.jsx)(be.A,{className:t}):6===e?(0,a.jsx)(fe.A,{className:t}):7===e?(0,a.jsx)(pe.A,{className:t}):8===e?(0,a.jsx)(we.A,{className:t}):9===e?(0,a.jsx)(je.A,{className:t}):10===e?(0,a.jsx)(ve.A,{className:t}):11===e?(0,a.jsx)(ye.A,{className:t}):12===e?(0,a.jsx)(Ne.A,{className:t}):13===e?(0,a.jsx)(Se.A,{className:t}):14===e?(0,a.jsx)(ke.A,{className:t}):15===e?(0,a.jsx)(Ce.A,{className:t}):16===e?(0,a.jsx)(De.A,{className:t}):17===e?(0,a.jsx)(Ae.A,{className:t}):18===e?(0,a.jsx)($e.A,{className:t}):19===e?(0,a.jsx)(Te.A,{className:t}):e>=20&&e<=24?(0,a.jsx)(Ee.A,{className:t}):e>=25&&e<=29?(0,a.jsx)(Le.A,{className:t}):e>=30&&e<=34?(0,a.jsx)(Me.A,{className:t}):e>=35&&e<=39?(0,a.jsx)(Pe.A,{className:t}):e>=40&&e<=44?(0,a.jsx)(Oe.A,{className:t}):e>=45&&e<=49?(0,a.jsx)(He.A,{className:t}):e>=50&&e<=69?(0,a.jsx)(Re.A,{className:t}):e>=70&&e<=89?(0,a.jsx)(Ie.A,{className:t}):e>=90&&e<=99?(0,a.jsx)(Fe.A,{className:t}):e>=100?(0,a.jsx)(We.A,{className:t}):(0,a.jsx)(Ye.A,{className:t}))(e)})})}function Ue(){const[e,t]=(0,r.useState)({level:1,currentXP:0,totalXP:0,title:"Novice Achiever",rank:"Bronze",completedMissions:0});(0,r.useEffect)((()=>{s();const e=()=>{s()},t=()=>{s()};return window.addEventListener("dailyLogsUpdated",e),window.addEventListener("missionCompleted",t),()=>{window.removeEventListener("dailyLogsUpdated",e),window.removeEventListener("missionCompleted",t)}}),[]);const s=async()=>{try{const e=await S.load("daily-logs")||{},s=await S.load("habit-streak")||0,a=await S.load("snus-data")||{currentStreak:0};let r=0;Object.values(e).forEach((e=>{const t=50*e.habitsCompleted+25*e.focusSessions-10*e.snusCount;r+=Math.max(0,t)}));const o=100*s+150*a.currentStreak,i=await S.load("mission-xp")||0,d=(await S.load("completed-missions")||[]).length,c=r+o+i,m=Math.floor(c/1e3)+1,x=c%1e3,u=l(m),h=n(m);t({level:m,currentXP:x,totalXP:c,title:u,rank:h,completedMissions:d})}catch(e){console.error("Error loading profile data:",e)}},l=e=>e>=20?"Productivity Legend":e>=15?"Habit Virtuoso":e>=10?"Focus Master":e>=5?"Rising Champion":"Novice Achiever",n=e=>e>=20?"Platinum":e>=10?"Gold":e>=5?"Silver":"Bronze";return(0,a.jsxs)(u,{className:"bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-blue-500/5 to-cyan-500/5 rounded-3xl"}),(0,a.jsxs)(b,{className:"p-6 relative",children:[(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs px-2 py-0.5 rounded-full font-semibold shadow-lg border border-white/20",children:["LVL ",e.level]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,a.jsxs)("div",{className:`w-16 h-16 bg-gradient-to-br ${(()=>{switch(e.rank){case"Platinum":return"from-purple-400 via-purple-500 to-indigo-600";case"Gold":return"from-yellow-400 via-orange-400 to-orange-600";case"Silver":return"from-gray-300 via-gray-400 to-gray-600";default:return"from-orange-400 via-red-500 to-red-600"}})()} rounded-full flex items-center justify-center shadow-xl ${(()=>{switch(e.rank){case"Platinum":return"shadow-purple-500/50";case"Gold":return"shadow-yellow-500/50";case"Silver":return"shadow-gray-400/50";default:return"shadow-orange-500/50"}})()} border-2 border-white/20 relative overflow-hidden`,children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/20 via-transparent to-transparent rounded-full"}),(0,a.jsx)(ze,{level:e.level,className:"h-8 w-8 text-white"})]}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 bg-black/90 backdrop-blur-sm rounded-full p-1 border border-white/20 shadow-lg",children:(()=>{switch(e.rank){case"Platinum":return(0,a.jsx)(de.A,{className:"h-4 w-4 text-purple-300"});case"Gold":return(0,a.jsx)(de.A,{className:"h-4 w-4 text-yellow-300"});case"Silver":return(0,a.jsx)(ce.A,{className:"h-4 w-4 text-gray-300"});default:return(0,a.jsx)(ce.A,{className:"h-4 w-4 text-orange-300"})}})()})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("h1",{className:"text-xl font-bold text-white drop-shadow-sm truncate",children:[e.rank," Warrior"]}),(0,a.jsx)("p",{className:"text-sm text-gray-300 font-medium truncate",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 pt-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-yellow-400",children:[(0,a.jsx)(D.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"text-xs font-semibold",children:e.totalXP.toLocaleString()}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"XP"})]}),(0,a.jsx)("div",{className:"w-1 h-1 bg-gray-500 rounded-full"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-purple-400",children:[(0,a.jsx)(me.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"text-xs font-semibold",children:e.rank})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-400 font-medium",children:["Progress to Level ",e.level+1]}),(0,a.jsxs)("span",{className:"text-xs text-blue-400 font-bold",children:[e.currentXP," / ",1e3," XP"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-800/60 rounded-full h-3 relative overflow-hidden border border-white/10 shadow-inner",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 h-full rounded-full transition-all duration-1000 relative shadow-lg",style:{width:e.currentXP/1e3*100+"%"},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1 font-medium",children:[(1e3-e.currentXP).toLocaleString()," XP until next level"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl px-3 py-2 text-center backdrop-blur-sm flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-0.5",children:[(0,a.jsx)(V.A,{className:"h-3 w-3 text-green-400"}),(0,a.jsx)("div",{className:"text-sm font-bold text-green-400",children:e.completedMissions})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400 font-medium",children:"Missions"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20 rounded-xl px-3 py-2 text-center backdrop-blur-sm flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-0.5",children:[(0,a.jsx)(me.A,{className:"h-3 w-3 text-orange-400"}),(0,a.jsx)("div",{className:"text-sm font-bold text-orange-400",children:Math.floor(e.totalXP/150)})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400 font-medium",children:"Days Active"})]})]})]})]})]})}var Xe=s(8635);function Be(){const[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(new Set);(0,r.useEffect)((()=>{n();const e=()=>{n()};return window.addEventListener("dailyLogsUpdated",e),()=>{window.removeEventListener("dailyLogsUpdated",e)}}),[]);const n=async()=>{try{const e=await S.load("daily-logs")||{},s=Object.values(e),a=await S.load("completed-missions")||[];l(new Set(a));const r=c(s),n=x(r),i=h(s),d=i?[n,i]:[n];await o(d,a),t(d)}catch(e){console.error("Error loading missions:",e)}},o=async(e,t)=>{const s=[];let a=0;for(const r of e){const e=d(r),l=t.includes(e);r.progress>=r.target&&!l&&(s.push(e),a+=r.xpReward,console.log(`🎉 Mission completed: ${r.title} (+${r.xpReward} XP)`))}if(s.length>0){const e=[...t,...s];await S.save("completed-missions",e);const r=await S.load("mission-xp")||0;await S.save("mission-xp",r+a),window.dispatchEvent(new CustomEvent("missionCompleted")),l(new Set(e))}},d=e=>{if("weekly"===e.type){const t=m();return`weekly-${e.id}-week-${t}`}return`milestone-${e.id}-target-${e.target}`},c=e=>{const t=new Date,s=new Date(t),a=t.getDay(),r=0===a?6:a-1;s.setDate(t.getDate()-r),s.setHours(0,0,0,0);const l=new Date(t);return l.setHours(23,59,59,999),e.filter((e=>{const t=new Date(e.date);return t.setHours(12,0,0,0),t>=s&&t<=l}))},m=()=>{const e=new Date,t=new Date(e.getFullYear(),0,0),s=e.getTime()-t.getTime();return Math.floor(s/6048e5)},x=e=>{const t=[{id:"habit-domination",title:"Weekly Domination",description:"Complete 35 habits this week",target:35,xpReward:500,icon:"🎯",color:"from-purple-500 to-pink-500",calculateProgress:e=>e.reduce(((e,t)=>e+t.habitsCompleted),0)},{id:"focus-mastery",title:"Focus Mastery",description:"Complete 20 focus sessions this week",target:20,xpReward:450,icon:"🧠",color:"from-blue-500 to-cyan-500",calculateProgress:e=>e.reduce(((e,t)=>e+t.focusSessions),0)},{id:"clean-week",title:"Clean Week Challenge",description:"Have 0 snus for 5 days this week",target:5,xpReward:600,icon:"🌟",color:"from-green-500 to-emerald-500",calculateProgress:e=>e.filter((e=>0===e.snusCount)).length},{id:"consistency-king",title:"Consistency King",description:"Have 6 days with score ≥ 3 this week",target:6,xpReward:550,icon:"👑",color:"from-yellow-500 to-orange-500",calculateProgress:e=>e.filter((e=>2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount>=3)).length},{id:"habit-focus-combo",title:"Perfect Balance",description:"Complete 25 habits + 15 focus sessions",target:40,xpReward:525,icon:"⚖️",color:"from-indigo-500 to-purple-500",calculateProgress:e=>{const t=e.reduce(((e,t)=>e+t.habitsCompleted),0),s=e.reduce(((e,t)=>e+t.focusSessions),0);return Math.min(t,25)+Math.min(s,15)}},{id:"streak-builder",title:"Streak Builder",description:"Build a 7-day quality streak",target:7,xpReward:650,icon:"🔥",color:"from-orange-500 to-red-500",calculateProgress:e=>{const t=e.sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()));let s=0;for(const e of t)2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount>=3?s++:s=0;return Math.min(s,7)}}],s=t[m()%t.length],a=s.calculateProgress(e);return{id:s.id,title:s.title,description:s.description,progress:a,target:s.target,xpReward:s.xpReward,type:"weekly",icon:s.icon,color:s.color}},h=e=>{const t=g(e),s=e.reduce(((e,t)=>e+t.habitsCompleted),0),a=e.reduce(((e,t)=>e+t.focusSessions),0),r=(e.filter((e=>0===e.snusCount)).length,[{condition:t<7,mission:{id:"first-week-warrior",title:"First Week Warrior",description:7-t+" days until 7-day habit streak",progress:t,target:7,xpReward:300,type:"milestone",icon:"🔥",color:"from-orange-500 to-red-500"}},{condition:t>=7&&t<30,mission:{id:"monthly-master",title:"Monthly Master",description:30-t+" days until 30-day streak",progress:t,target:30,xpReward:1e3,type:"milestone",icon:"🏆",color:"from-yellow-500 to-orange-500"}},{condition:s<100,mission:{id:"habit-century",title:"Habit Century",description:100-s+" habits until Centurion badge",progress:s,target:100,xpReward:500,type:"milestone",icon:"💯",color:"from-green-500 to-emerald-500"}},{condition:a<50,mission:{id:"focus-apprentice",title:"Focus Apprentice",description:50-a+" sessions until Focus Master",progress:a,target:50,xpReward:400,type:"milestone",icon:"🧠",color:"from-blue-500 to-cyan-500"}}].find((e=>e.condition)));return r?r.mission:null},g=e=>{if(0===e.length)return 0;const t=e.sort(((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())),s=e=>2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount;let a=0;for(const e of t){if(!(s(e)>=3))break;a++}return a},f=(e,t)=>Math.min(e/t*100,100),p=()=>{const e=new Date,t=e.getDay();if(0===t){const t=new Date(e);t.setHours(23,59,59,999);const s=Math.ceil((t.getTime()-e.getTime())/36e5);return s>1?`${s}h`:"final hours"}return 7-t+" days"};return(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:e.map((e=>{const t=d(e),r=s.has(t),l=e.progress>=e.target&&!r;return(0,a.jsx)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden hover:border-white/20 transition-all h-full",children:(0,a.jsxs)(b,{className:"p-6 h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:`w-12 h-12 bg-gradient-to-r ${e.color} rounded-2xl flex items-center justify-center text-2xl shadow-lg ${r?"opacity-60":""}`,children:r?"✅":e.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h3",{className:"font-bold text-lg mb-1 "+(r?"text-gray-400":"text-white"),children:[e.title,r&&(0,a.jsx)("span",{className:"text-green-400 ml-2",children:"✓"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]})]})}),(0,a.jsxs)("div",{className:"mb-4 flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium "+(r?"text-gray-400":"text-gray-300"),children:"Progress"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm font-bold "+(r?"text-green-400":"text-white"),children:[Math.min(e.progress,e.target)," / ",e.target]}),"weekly"===e.type&&!r&&(0,a.jsxs)("span",{className:"text-orange-400 text-sm font-medium",children:[p()," left"]})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-800/60 rounded-full h-3 relative overflow-hidden border border-white/10 shadow-inner",children:(0,a.jsx)("div",{className:`bg-gradient-to-r ${r?"from-green-500 to-emerald-500":e.color} h-full rounded-full transition-all duration-1000 relative shadow-lg`,style:{width:`${f(e.progress,e.target)}%`},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse opacity-50"})})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 "+(r?"text-green-400":"text-yellow-400"),children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[r?"Claimed":"+",e.xpReward," XP"]})]}),!r&&(0,a.jsxs)("div",{className:"flex items-center text-blue-400 text-sm",children:[(0,a.jsxs)("span",{className:"mr-2",children:[e.target-e.progress," to go"]}),(0,a.jsx)(Xe.A,{className:"h-4 w-4"})]})]}),r&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-green-500/20 border border-green-500/30 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center text-green-400 text-sm font-medium",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Mission Complete! XP Awarded"]})}),l&&!r&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-500/20 border border-yellow-500/30 rounded-xl animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center text-yellow-400 text-sm font-medium",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Ready to claim reward!"]})})]})},e.id)}))})}function _e(){const[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0);(0,r.useEffect)((()=>{n();const e=()=>{n()};return window.addEventListener("dailyLogsUpdated",e),()=>{window.removeEventListener("dailyLogsUpdated",e)}}),[]);const n=async()=>{try{const e=await S.load("daily-logs")||{},s=Object.values(e),r=o(s),n=s.reduce(((e,t)=>e+t.habitsCompleted),0),d=s.reduce(((e,t)=>e+t.focusSessions),0),c=Math.round(25*d/60),m=s.filter((e=>0===e.snusCount)).length,x=s.length,u=x>0?Math.round(m/x*100):0,h=i(s),g=[{id:"current-streak",title:"Current Streak",value:r,icon:(0,a.jsx)(J.A,{className:"h-6 w-6"}),color:"from-orange-500 to-red-500",suffix:"days",subtitle:`${h} best`},{id:"focus-hours",title:"Focus Hours",value:c,icon:(0,a.jsx)(U.A,{className:"h-6 w-6"}),color:"from-blue-500 to-cyan-500",suffix:"hrs",subtitle:`${d} sessions`},{id:"total-habits",title:"Total Habits",value:n,icon:(0,a.jsx)(le.A,{className:"h-6 w-6"}),color:"from-green-500 to-emerald-500",suffix:"",subtitle:"completed"},{id:"clean-days",title:"Clean Days",value:m,icon:(0,a.jsx)(me.A,{className:"h-6 w-6"}),color:"from-purple-500 to-pink-500",suffix:"",subtitle:`${u}% rate`}];t(g),l(!1)}catch(e){console.error("Error loading power stats:",e),l(!1)}},o=e=>{if(0===e.length)return 0;const t=e.sort(((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()));let s=0;(new Date).toISOString().split("T")[0];const a=e=>2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount;for(const e of t){if(!(a(e)>=3))break;s++}return s},i=e=>{if(0===e.length)return 0;const t=e.sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())),s=e=>2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount;let a=0,r=0;for(const e of t)s(e)>=3?(r++,a=Math.max(a,r)):r=0;return a},d=({value:e,suffix:t})=>{const[s,l]=(0,r.useState)(0);return(0,r.useEffect)((()=>{const t=e/60;let s=0;const a=setInterval((()=>{s+=t,s>=e?(l(e),clearInterval(a)):l(Math.floor(s))}),2e3/60);return()=>clearInterval(a)}),[e]),(0,a.jsxs)("span",{children:[s.toLocaleString(),t&&(0,a.jsx)("span",{className:"text-sm ml-1 opacity-80",children:t})]})};return s?(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map((e=>(0,a.jsx)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-3xl animate-pulse",children:(0,a.jsx)(b,{className:"p-6",children:(0,a.jsx)("div",{className:"h-20 bg-white/5 rounded-xl"})})},e)))}):(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:e.map(((e,t)=>(0,a.jsx)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden hover:border-white/20 transition-all group hover:scale-105",style:{animationDelay:150*t+"ms"},children:(0,a.jsxs)(b,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:`w-12 h-12 bg-gradient-to-r ${e.color} rounded-2xl flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform`,children:e.icon}),e.value>10&&"current-streak"===e.id&&(0,a.jsx)("div",{className:"bg-yellow-500/20 border border-yellow-500/30 text-yellow-400 px-2 py-1 rounded-full text-xs font-medium",children:"🔥 HOT"})]}),(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:e.title}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white mb-1",children:(0,a.jsx)(d,{value:e.value,suffix:e.suffix})}),e.subtitle&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.subtitle}),"current-streak"===e.id&&e.value>0&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("div",{className:"w-full bg-gray-800/60 rounded-full h-1",children:(0,a.jsx)("div",{className:`bg-gradient-to-r ${e.color} h-full rounded-full transition-all duration-1000`,style:{width:`${Math.min(e.value/30*100,100)}%`}})}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.value<30?30-e.value+" to 30-day milestone":"30+ day champion!"})]})]})},e.id)))})}const Ge=r.forwardRef((({className:e,type:t,...s},r)=>(0,a.jsx)("input",{type:t,className:m("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s})));Ge.displayName="Input";const Ve=(0,p.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Je=r.forwardRef((({className:e,...t},s)=>(0,a.jsx)("label",{ref:s,className:m(Ve(),e),...t})));Je.displayName="Label";var Ke=s(7125);const qe=Ke.Kq,Qe=Ke.bL,Ze=Ke.l9,et=r.forwardRef((({className:e,sideOffset:t=4,...s},r)=>(0,a.jsx)(Ke.UC,{ref:r,sideOffset:t,className:m("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})));et.displayName=Ke.UC.displayName;var tt=s(972),st=s(8852),at=s(250),rt=s(7677);function lt({className:e}){const[t,s]=(0,r.useState)({}),[l,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(new Date),[m,x]=(0,r.useState)(!0);(0,r.useEffect)((()=>{f()}),[]);const f=async()=>{try{const e=await S.load("daily-logs")||{};s(e)}catch(e){console.error("Error loading daily logs:",e)}finally{x(!1)}},p=e=>e?2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount:0,w=(e,t)=>{const s=new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(!t)return`${s}\nNo activity recorded`;const a=p(t);return`${s}\n✅ ${t.habitsCompleted} habits\n⏱️ ${t.focusSessions} focus sessions\n🚫 ${t.snusCount} snus\nScore: ${a}`},v=e=>{const t=new Date(d);"prev"===e?t.setMonth(t.getMonth()-1):t.setMonth(t.getMonth()+1),c(t)},y=(()=>{const e=[],t=d.getFullYear(),s=d.getMonth(),a=new Date(t,s+1,0).getDate();for(let r=1;r<=a;r++){const a=new Date(t,s,r);e.push(a.toISOString().split("T")[0])}return e})(),N=d.toLocaleDateString("en-US",{month:"long",year:"numeric"});return m?(0,a.jsx)(u,{className:"bg-gradient-to-br from-black/70 to-black/60 backdrop-blur-xl border border-white/10 h-full",children:(0,a.jsx)(b,{className:"p-6 flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"text-gray-400",children:"Loading journey..."})})}):(0,a.jsx)(qe,{children:(0,a.jsxs)(u,{className:`bg-gradient-to-br from-black/70 to-black/60 backdrop-blur-xl border border-white/10 h-full flex flex-col rounded-3xl ${e}`,children:[(0,a.jsxs)(h,{className:"pb-2 flex-shrink-0",children:[(0,a.jsxs)(g,{className:"text-lg font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(T.A,{className:"h-4 w-4 text-white"})}),(0,a.jsx)("span",{children:"Journey Heatmap"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Your daily progress for ",N]})]}),(0,a.jsxs)(b,{className:"p-4 pt-0 flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(j,{variant:"ghost",size:"sm",onClick:()=>v("prev"),className:"text-gray-400 hover:text-white",children:(0,a.jsx)(at.A,{className:"h-4 w-4"})}),(0,a.jsx)("h3",{className:"text-base font-semibold text-white",children:N}),(0,a.jsx)(j,{variant:"ghost",size:"sm",onClick:()=>v("next"),disabled:!(()=>{const e=new Date(d);return e.setMonth(e.getMonth()+1),e<=new Date})(),className:"text-gray-400 hover:text-white disabled:opacity-30",children:(0,a.jsx)(rt.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center mb-4",children:(0,a.jsxs)("div",{className:"grid gap-1 w-full max-w-full",style:{gridTemplateColumns:"repeat(7, 1fr)",aspectRatio:"7/5"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e=>(0,a.jsx)("div",{className:"text-xs text-gray-400 text-center pb-1 font-medium",children:e},e))),Array.from({length:new Date(d.getFullYear(),d.getMonth(),1).getDay()}).map(((e,t)=>(0,a.jsx)("div",{},`empty-${t}`))),y.map((e=>{const s=t[e],r=p(s),l=(e=>e>=5?"bg-green-500 border-green-600":e>=3?"bg-lime-400 border-lime-500":e>=1?"bg-yellow-400 border-yellow-500":0===e?"bg-gray-500 border-gray-600":"bg-red-500 border-red-600")(r),o=(e=>e>=5?"opacity-100":e>=3?"opacity-80":e>=1?"opacity-60":0===e?"opacity-40":"opacity-70")(r),d=new Date(e).getDate();return(0,a.jsxs)(Qe,{children:[(0,a.jsx)(Ze,{asChild:!0,children:(0,a.jsx)("button",{onClick:()=>(e=>{n(e),i(!0)})(e),className:`\n                          aspect-square rounded border cursor-pointer transition-all duration-200 hover:scale-105 hover:z-10 relative flex items-center justify-center text-xs font-medium\n                          ${l} ${o}\n                          ${new Date(e)>new Date?"opacity-30 cursor-not-allowed":""}\n                        `,children:(0,a.jsx)("span",{className:"text-white drop-shadow-sm",children:d})})}),(0,a.jsx)(et,{className:"bg-black/90 border border-white/20 text-white text-xs whitespace-pre-line",children:w(e,s)})]},e)}))]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-4",children:[(0,a.jsx)("span",{children:"Less"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded border opacity-40"}),(0,a.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded border opacity-60"}),(0,a.jsx)("div",{className:"w-3 h-3 bg-lime-400 rounded border opacity-80"}),(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded border opacity-100"})]}),(0,a.jsx)("span",{children:"More"})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-white/10 flex-shrink-0",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold text-green-400",children:y.filter((e=>p(t[e])>=3)).length}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Great Days"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-400",children:y.reduce(((e,s)=>e+(t[s]?.focusSessions||0)),0)}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Focus Sessions"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold text-purple-400",children:y.reduce(((e,s)=>e+(t[s]?.habitsCompleted||0)),0)}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Total Habits"})]})]})})]}),(0,a.jsx)((()=>{const[e,d]=(0,r.useState)({habitsCompleted:0,focusSessions:0,snusCount:0});(0,r.useEffect)((()=>{if(l){const e=t[l];d(e?{habitsCompleted:e.habitsCompleted,focusSessions:e.focusSessions,snusCount:e.snusCount}:{habitsCompleted:0,focusSessions:0,snusCount:0})}}),[l]);const c=l?new Date(l).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",m=p({date:l||"",...e}),x=!!l&&new Date(l)>new Date;return(0,a.jsx)(q,{open:o,onOpenChange:i,children:(0,a.jsxs)(ee,{className:"bg-black/90 border border-white/20 text-white max-w-md",children:[(0,a.jsxs)(te,{children:[(0,a.jsxs)(se,{className:"text-xl font-bold flex items-center space-x-2",children:[(0,a.jsx)(T.A,{className:"h-5 w-5 text-blue-400"}),(0,a.jsx)("span",{children:"Daily Log"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:c})]}),x?(0,a.jsxs)("div",{className:"py-6 text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-2",children:"📅"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Can't log future dates"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Daily Score"}),(0,a.jsx)("span",{className:"text-2xl font-bold "+(m>=5?"text-green-400":m>=3?"text-lime-400":m>=1?"text-yellow-400":0===m?"text-gray-400":"text-red-400"),children:m})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Habits×2 + Focus×1 - Snus×1"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(Je,{className:"text-sm text-gray-300 flex items-center space-x-2",children:[(0,a.jsx)(le.A,{className:"h-4 w-4 text-green-400"}),(0,a.jsx)("span",{children:"Habits Completed"})]}),(0,a.jsx)(Ge,{type:"number",value:e.habitsCompleted,onChange:e=>d((t=>({...t,habitsCompleted:parseInt(e.target.value)||0}))),className:"bg-white/5 border-white/10 text-white",min:"0",max:"20"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(Je,{className:"text-sm text-gray-300 flex items-center space-x-2",children:[(0,a.jsx)(U.A,{className:"h-4 w-4 text-blue-400"}),(0,a.jsx)("span",{children:"Focus Sessions"})]}),(0,a.jsx)(Ge,{type:"number",value:e.focusSessions,onChange:e=>d((t=>({...t,focusSessions:parseInt(e.target.value)||0}))),className:"bg-white/5 border-white/10 text-white",min:"0",max:"20"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(Je,{className:"text-sm text-gray-300 flex items-center space-x-2",children:[(0,a.jsx)(tt.A,{className:"h-4 w-4 text-red-400"}),(0,a.jsx)("span",{children:"Snus Count"})]}),(0,a.jsx)(Ge,{type:"number",value:e.snusCount,onChange:e=>d((t=>({...t,snusCount:parseInt(e.target.value)||0}))),className:"bg-white/5 border-white/10 text-white",min:"0",max:"50"})]})]}),(0,a.jsxs)(j,{onClick:async()=>{l&&(await(async(e,a)=>{const r={...t,[e]:{date:e,...a}};s(r),await S.save("daily-logs",r),window.dispatchEvent(new CustomEvent("dailyLogsUpdated"))})(l,e),i(!1),n(null))},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[(0,a.jsx)(st.A,{className:"h-4 w-4 mr-2"}),"Save Daily Log"]})]})]})})}),{})]})})}const nt=()=>{const[e,t]=(0,r.useState)(null),s=[{id:"achievements",title:"Achievement Wall",icon:"🏆",description:"Badges & rewards",color:"from-yellow-500 to-orange-500"},{id:"reflection",title:"Weekly Reflection",icon:"💭",description:"Mood & energy trends",color:"from-purple-500 to-pink-500"}];return(0,a.jsx)("div",{className:"h-screen pt-28 pb-16 overflow-hidden",children:(0,a.jsxs)("div",{className:"container mx-auto px-6 max-w-7xl h-full flex flex-col",children:[(0,a.jsx)("div",{className:"mb-4 flex-shrink-0",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)(Ue,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(Be,{})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1 min-h-0",children:[(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsxs)("h2",{className:"text-base font-bold text-white mb-2 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"⚡"}),"Power Stats"]}),(0,a.jsx)(_e,{})]}),(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsxs)("h2",{className:"text-base font-bold text-white mb-2 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"📅"}),"Journey Heatmap"]}),(0,a.jsx)(lt,{className:"h-full"})]}),(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsxs)("h2",{className:"text-base font-bold text-white mb-2 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"🚀"}),"Coming Soon"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3 h-full",children:s.map((e=>(0,a.jsx)(u,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden hover:border-white/20 transition-all cursor-pointer group hover:scale-105",onClick:()=>t(e.id),children:(0,a.jsxs)(b,{className:"p-4 h-full flex flex-col justify-center items-center text-center",children:[(0,a.jsx)("div",{className:`w-12 h-12 bg-gradient-to-r ${e.color} rounded-2xl flex items-center justify-center text-2xl mb-3 group-hover:scale-110 transition-transform`,children:e.icon}),(0,a.jsx)("h3",{className:"text-base font-bold text-white mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:e.description}),(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 text-white text-xs px-3 py-1 rounded-full",children:"Coming Soon"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to preview"})]})},e.id)))})]})]}),e&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>t(null),children:(0,a.jsx)(u,{className:"bg-black/90 backdrop-blur-xl border border-white/20 shadow-2xl rounded-3xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:(0,a.jsx)(b,{className:"p-8",children:(0,a.jsx)("div",{className:"text-center",children:(()=>{const r=s.find((t=>t.id===e));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:`w-16 h-16 bg-gradient-to-r ${r?.color} rounded-3xl flex items-center justify-center text-3xl mb-4 mx-auto`,children:r?.icon}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:r?.title}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:r?.description}),"achievements"===e&&(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"🎖️"}),(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:'Unlock badges and achievements as you reach milestones. From "First Week Warrior" to "Productivity Legend".'}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Features: Badge showcase, progress tracking, milestone rewards"})]}),"reflection"===e&&(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"📊"}),(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:"Weekly mood and energy tracking with visual trends. Optional daily reflections to understand your patterns."}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Features: Mood charts, energy levels, weekly insights"})]}),(0,a.jsx)("button",{onClick:()=>t(null),className:"mt-6 bg-white/10 hover:bg-white/20 border border-white/20 text-white px-6 py-2 rounded-xl transition-colors",children:"Close Preview"})]})})()})})})})]})})},ot=document.getElementById("root");if(!ot)throw new Error("Root element not found");(0,l.H)(ot).render((0,a.jsx)((function(){const[e,t]=(0,r.useState)("home");return(0,a.jsxs)("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-slate-900 to-black overflow-auto",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[(0,a.jsx)("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-orange-400/40 to-amber-400/35 rounded-full blur-xl"}),(0,a.jsx)("div",{className:"absolute top-40 right-32 w-24 h-24 bg-gradient-to-r from-orange-500/35 to-red-400/30 rounded-full blur-lg"}),(0,a.jsx)("div",{className:"absolute bottom-32 left-40 w-40 h-40 bg-gradient-to-r from-amber-400/45 to-orange-500/40 rounded-full blur-2xl"}),(0,a.jsx)("div",{className:"absolute top-60 left-1/2 w-20 h-20 bg-gradient-to-r from-orange-400/30 to-amber-500/25 rounded-full blur-md"}),(0,a.jsx)("div",{className:"absolute bottom-20 right-20 w-28 h-28 bg-gradient-to-r from-orange-400/38 to-red-400/32 rounded-full blur-xl"}),(0,a.jsx)("div",{className:"absolute top-1/3 right-1/4 w-16 h-16 bg-gradient-to-r from-amber-500/32 to-orange-400/28 rounded-full blur-lg"}),(0,a.jsx)("div",{className:"absolute bottom-1/3 left-1/3 w-36 h-36 bg-gradient-to-r from-orange-500/42 to-amber-500/38 rounded-full blur-2xl"})]}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)(x,{currentView:e,onViewChange:t}),(()=>{switch(e){case"home":default:return(0,a.jsx)(M,{});case"productivity":return(0,a.jsx)(ie,{});case"personal":return(0,a.jsx)(nt,{})}})()]})]})}),{}))}},r={};function l(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return a[e](s,s.exports,l),s.exports}l.m=a,e=[],l.O=(t,s,a,r)=>{if(!s){var n=1/0;for(c=0;c<e.length;c++){for(var[s,a,r]=e[c],o=!0,i=0;i<s.length;i++)(!1&r||n>=r)&&Object.keys(l.O).every((e=>l.O[e](s[i])))?s.splice(i--,1):(o=!1,r<n&&(n=r));if(o){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,a,r]},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var r=Object.create(null);l.r(r);var n={};t=t||[null,s({}),s([]),s(s)];for(var o=2&a&&e;"object"==typeof o&&!~t.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,l.d(r,n),r},l.d=(e,t)=>{for(var s in t)l.o(t,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};l.O.j=t=>0===e[t];var t=(t,s)=>{var a,r,[n,o,i]=s,d=0;if(n.some((t=>0!==e[t]))){for(a in o)l.o(o,a)&&(l.m[a]=o[a]);if(i)var c=i(l)}for(t&&t(s);d<n.length;d++)r=n[d],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},s=self.webpackChunknew_tab_extension=self.webpackChunknew_tab_extension||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),l.nc=void 0;var n=l.O(void 0,[96],(()=>l(1185)));n=l.O(n)})();